import{x as le,y as E,z as X,g as O,W as Ie,A as xe,H as Me,B as se,C as j,D as P,M as x,aF as Ce,aG as Re,G as q,J as De,I as C,aH as te,F as ee,aa as He,aI as ne,aJ as fe,an as Oe,aK as V,K as ae,L as de,aL as $,aM as je,aN as U,am as re,aO as Pe,aP as ze,aQ as Le,aR as qe,T as ce,aS as ue,aT as ve,q as Q,aU as We,aV as Ve,E as $e,aW as Fe,aX as Ge,aY as Ue,aZ as he,r as _e,aq as Be,ap as Je,a_ as Ye,u as Ke,a$ as Xe,p as me,b0 as Qe,a6 as ge,m as W,n as we,v as Ze,o as Ee,a7 as pe,s as be,a4 as Se,l as ye,al as ea,b1 as aa,k as ra,t as sa}from"./DMT2ISIW.js";import"./DsnmJJEf.js";import{p as R,r as Te,s as ta,i as na}from"./DG3cwuBf.js";import{b as ie,d as ia,g as I}from"./CGAY-q1V.js";function oa(e,r){return r}function la(e,r,a){for(var s=e.items,n=[],o=r.length,t=0;t<o;t++)ze(r[t].e,n,!0);var d=o>0&&n.length===0&&a!==null;if(d){var v=a.parentNode;Le(v),v.append(a),s.clear(),N(e,r[0].prev,r[o-1].next)}qe(n,()=>{for(var i=0;i<o;i++){var h=r[i];d||(s.delete(h.k),N(e,h.prev,h.next)),re(h.e,!d)}})}function fa(e,r,a,s,n,o=null){var t=e,d={flags:r,items:new Map,first:null},v=(r&ve)!==0;if(v){var i=e;t=E?j(ue(i)):i.appendChild(ee())}E&&X();var h=null,m=!1,g=new Map,y=Ie(()=>{var w=a();return Oe(w)?w:w==null?[]:fe(w)}),l,_;function c(){da(_,l,d,g,t,n,r,s,a),o!==null&&(l.length===0?h?ae(h):h=q(()=>o(t)):h!==null&&de(h,()=>{h=null}))}le(()=>{_??=ce,l=O(y);var w=l.length;if(m&&w===0)return;m=w===0;let p=!1;if(E){var T=xe(t)===Me;T!==(w===0)&&(t=se(),j(t),P(!1),p=!0)}if(E){for(var A=null,b,f=0;f<w;f++){if(x.nodeType===Ce&&x.data===Re){t=x,p=!0,P(!1);break}var u=l[f],S=s(u,f);b=Z(x,d,A,null,u,S,f,n,r,a),d.items.set(S,b),A=b}w>0&&j(se())}if(E)w===0&&o&&(h=q(()=>o(t)));else if(De()){var D=new Set,z=C;for(f=0;f<w;f+=1){u=l[f],S=s(u,f);var M=d.items.get(S)??g.get(S);M?(r&($|V))!==0&&ke(M,u,f,r):(b=Z(null,d,null,null,u,S,f,n,r,a,!0),g.set(S,b)),D.add(S)}for(const[k,L]of d.items)D.has(k)||z.skipped_effects.add(L.e);z.add_callback(c)}else c();p&&P(!0),O(y)}),E&&(t=x)}function da(e,r,a,s,n,o,t,d,v){var i=(t&We)!==0,h=(t&($|V))!==0,m=r.length,g=a.items,y=a.first,l=y,_,c=null,w,p=[],T=[],A,b,f,u;if(i)for(u=0;u<m;u+=1)A=r[u],b=d(A,u),f=g.get(b),f!==void 0&&(f.a?.measure(),(w??=new Set).add(f));for(u=0;u<m;u+=1){if(A=r[u],b=d(A,u),f=g.get(b),f===void 0){var S=s.get(b);if(S!==void 0){s.delete(b),g.set(b,S);var D=c?c.next:l;N(a,c,S),N(a,S,D),B(S,D,n),c=S}else{var z=l?l.e.nodes_start:n;c=Z(z,a,c,c===null?a.first:c.next,A,b,u,o,t,v)}g.set(b,c),p=[],T=[],l=c.next;continue}if(h&&ke(f,A,u,t),(f.e.f&U)!==0&&(ae(f.e),i&&(f.a?.unfix(),(w??=new Set).delete(f))),f!==l){if(_!==void 0&&_.has(f)){if(p.length<T.length){var M=T[0],k;c=M.prev;var L=p[0],F=p[p.length-1];for(k=0;k<p.length;k+=1)B(p[k],M,n);for(k=0;k<T.length;k+=1)_.delete(T[k]);N(a,L.prev,F.next),N(a,c,L),N(a,F,M),l=M,c=F,u-=1,p=[],T=[]}else _.delete(f),B(f,l,n),N(a,f.prev,f.next),N(a,f,c===null?a.first:c.next),N(a,c,f),c=f;continue}for(p=[],T=[];l!==null&&l.k!==b;)(l.e.f&U)===0&&(_??=new Set).add(l),T.push(l),l=l.next;if(l===null)continue;f=l}p.push(f),c=f,l=f.next}if(l!==null||_!==void 0){for(var H=_===void 0?[]:fe(_);l!==null;)(l.e.f&U)===0&&H.push(l),l=l.next;var G=H.length;if(G>0){var Ne=(t&ve)!==0&&m===0?n:null;if(i){for(u=0;u<G;u+=1)H[u].a?.measure();for(u=0;u<G;u+=1)H[u].a?.fix()}la(a,H,Ne)}}i&&Q(()=>{if(w!==void 0)for(f of w)f.a?.apply()}),e.first=a.first&&a.first.e,e.last=c&&c.e;for(var Ae of s.values())re(Ae.e);s.clear()}function ke(e,r,a,s){(s&$)!==0&&te(e.v,r),(s&V)!==0?te(e.i,a):e.i=a}function Z(e,r,a,s,n,o,t,d,v,i,h){var m=(v&$)!==0,g=(v&je)===0,y=m?g?He(n,!1,!1):ne(n):n,l=(v&V)===0?t:ne(t),_={i:l,v:y,k:o,a:null,e:null,prev:a,next:s};try{if(e===null){var c=document.createDocumentFragment();c.append(e=ee())}return _.e=q(()=>d(e,y,l,i),E),_.e.prev=a&&a.e,_.e.next=s&&s.e,a===null?h||(r.first=_):(a.next=_,a.e.next=_.e),s!==null&&(s.prev=_,s.e.prev=_.e),_}finally{}}function B(e,r,a){for(var s=e.next?e.next.e.nodes_start:a,n=r?r.e.nodes_start:a,o=e.e.nodes_start;o!==null&&o!==s;){var t=Pe(o);n.before(o),o=t}}function N(e,r,a){r===null?e.first=a:(r.next=a,r.e.next=a&&a.e),a!==null&&(a.prev=r,a.e.prev=r&&r.e)}function ca(e,r,a,s,n,o){let t=E;E&&X();var d,v,i=null;E&&x.nodeType===Ve&&(i=x,X());var h=E?x:e,m;le(()=>{const g=r()||null;var y=Fe;g!==d&&(m&&(g===null?de(m,()=>{m=null,v=null}):g===v?ae(m):re(m)),g&&g!==v&&(m=q(()=>{if(i=E?i:document.createElementNS(y,g),Ge(i,i),s){E&&Ue(g)&&i.append(document.createComment(""));var l=E?ue(i):i.appendChild(ee());E&&(l===null?P(!1):j(l)),s(i,l)}ce.nodes_end=i,h.before(i)})),d=g,d&&(v=d))},$e),t&&(P(!0),j(h))}function ba(e,r,a=r){var s=Ye(),n=new WeakSet;he(e,"input",o=>{var t=o?e.defaultValue:e.value;if(t=Y(e)?K(t):t,a(t),C!==null&&n.add(C),s&&t!==(t=r())){var d=e.selectionStart,v=e.selectionEnd;e.value=t??"",v!==null&&(e.selectionStart=d,e.selectionEnd=Math.min(v,e.value.length))}}),(E&&e.defaultValue!==e.value||Ke(r)==null&&e.value)&&(a(Y(e)?K(e.value):e.value),C!==null&&n.add(C)),_e(()=>{var o=r();if(e===document.activeElement){var t=Xe??C;if(n.has(t))return}Y(e)&&o===K(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}const J=new Set;function Sa(e,r,a,s,n=s){var o=a.getAttribute("type")==="checkbox",t=e;let d=!1;if(r!==null)for(var v of r)t=t[v]??=[];t.push(a),he(a,"change",()=>{var i=a.__value;o&&(i=oe(t,i,a.checked)),n(i)},()=>n(o?[]:null)),_e(()=>{var i=s();if(E&&a.defaultChecked!==a.checked){d=!0;return}o?(i=i||[],a.checked=i.includes(a.__value)):a.checked=Je(a.__value,i)}),Be(()=>{var i=t.indexOf(a);i!==-1&&t.splice(i,1)}),J.has(t)||(J.add(t),Q(()=>{t.sort((i,h)=>i.compareDocumentPosition(h)===4?-1:1),J.delete(t)})),Q(()=>{if(d){var i;if(o)i=oe(t,i,a.checked);else{var h=t.find(m=>m.checked);i=h?.__value}n(i)}})}function oe(e,r,a){for(var s=new Set,n=0;n<e.length;n+=1)e[n].checked&&s.add(e[n].__value);return a||s.delete(r),Array.from(s)}function Y(e){var r=e.type;return r==="number"||r==="range"}function K(e){return e===""?null:+e}/**
 * @license @lucide/svelte v0.539.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 */const ua={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var va=Qe("<svg><!><!></svg>");function ha(e,r){me(r,!0);const a=R(r,"color",3,"currentColor"),s=R(r,"size",3,24),n=R(r,"strokeWidth",3,2),o=R(r,"absoluteStrokeWidth",3,!1),t=R(r,"iconNode",19,()=>[]),d=Te(r,["$$slots","$$events","$$legacy","name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","children"]);var v=va();ie(v,m=>({...ua,...d,width:s(),height:s(),stroke:a(),"stroke-width":m,class:["lucide-icon lucide",r.name&&`lucide-${r.name}`,r.class]}),[()=>o()?Number(n())*24/Number(s()):n()]);var i=Ee(v);fa(i,17,t,oa,(m,g)=>{var y=ea(()=>aa(O(g),2));let l=()=>O(y)[0],_=()=>O(y)[1];var c=Se(),w=ye(c);ca(w,l,!0,(p,T)=>{ie(p,()=>({..._()}))}),W(m,c)});var h=Ze(i);ge(h,()=>r.children??pe),be(v),W(e,v),we()}function _a(e,r){me(r,!0);/**
 * @license @lucide/svelte v0.539.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let a=Te(r,["$$slots","$$events","$$legacy"]);const s=[["circle",{cx:"12",cy:"8",r:"5"}],["path",{d:"M20 21a8 8 0 0 0-16 0"}]];ha(e,ta({name:"user-round"},()=>a,{get iconNode(){return s},children:(n,o)=>{var t=Se(),d=ye(t);ge(d,()=>r.children??pe),W(n,t)},$$slots:{default:!0}})),we()}var ma=ra('<div class="avatar svelte-1vq3snd"><!></div>');function ya(e,r){const a=R(r,"size",3,20);var s=ma(),n=Ee(s);{var o=t=>{_a(t,{get size(){return r.iconSize}})};na(n,t=>{r.src||t(o)})}be(s),sa(()=>ia(s,`width: ${a()}px; height: ${a()}px; background: ${r.src?"url("+r.src+")":"var(--color-primary)"}; background-repeat: no-repeat; background-size: cover;`)),W(e,s)}async function Ta(e,r){return(await(await fetch("/api/v1/messages",{method:"POST",body:JSON.stringify({thread_id:e,text:r,image:""}),headers:I()})).json()).message}async function ka(e){await fetch(`/api/v1/messages?messageId=${e}`,{method:"DELETE",headers:I()})}async function Na(e,r,a,s="before"){return(await(await fetch(`/api/v1/messages?threadId=${e}&limit=${r}&messageId=${a}&direction=${s}`,{headers:I()})).json()).messages}async function Aa(e){return(await(await fetch(`/api/v1/messages/${e}`,{headers:I()})).json()).message}async function Ia(e,r=20,a=0){const s=new URLSearchParams;e&&s.append("search",e),s.append("page_size",r.toString()),s.append("page",a.toString());const n=await fetch(`/api/v1/query/messages?${s.toString()}`,{method:"GET",headers:I()});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return(await n.json()).result}async function xa(e,r){const s=await(await fetch("/api/v1/reports",{method:"POST",body:JSON.stringify({message_id:e,reason:r}),headers:I()})).json();return s.message||s.error}async function Ma(e){await fetch(`/api/v1/reports?reportId=${e}`,{method:"DELETE",headers:I()})}async function Ca(e){await fetch(`/api/v1/reports/resolve?reportId=${e}`,{method:"PATCH",headers:I()})}async function Ra(e,r=20,a=0){const s=new URLSearchParams;e&&s.append("search",e),s.append("page_size",r.toString()),s.append("page",a.toString());const n=await fetch(`/api/v1/query/reports?${s.toString()}`,{method:"GET",headers:I()});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return(await n.json()).result}export{ya as A,ha as I,Ra as a,ba as b,Sa as c,Ma as d,fa as e,ka as f,Aa as g,xa as h,oa as i,Na as j,Ta as k,Ia as q,Ca as r};
